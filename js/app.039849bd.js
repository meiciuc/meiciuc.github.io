(function(t){function e(e){for(var n,s,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&h.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,s=1;s<i.length;s++){var c=i[s];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},a={app:0},o=[];function s(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"299b5c52"}[t]+".js"}function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(t){var e=[],i=a[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise((function(e,n){i=a[t]=[e,n]}));e.push(i[2]=n);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=s(t);var l=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(d);var i=a[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",l.name="ChunkLoadError",l.type=n,l.request=o,i[1](l)}a[t]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=l;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"1ad8":function(t,e,i){},"309b":function(t,e,i){},4533:function(t,e,i){t.exports=i.p+"media/asteroid.700707dc.mp3"},"4fc1":function(t,e,i){},"58ce":function(t,e,i){t.exports=i.p+"media/asteroid.960a0b4d.ogg"},"5cd1":function(t,e,i){t.exports=i.p+"media/ship.606800c8.ogg"},"7e5e":function(t,e,i){},"7e73":function(t,e,i){t.exports=i.p+"media/shoot.164324a9.ogg"},b750:function(t,e,i){t.exports=i.p+"media/shoot.ecff5374.mp3"},c219:function(t,e,i){"use strict";i("4fc1")},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("b-navbar",{directives:[{name:"show",rawName:"v-show",value:t.showNavbar,expression:"showNavbar"}],attrs:{centered:""},scopedSlots:t._u([{key:"start",fn:function(){return[i("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/"}}},[t._v(" Home ")]),i("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/game"}}},[t._v(" Game ")]),i("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/about"}}},[t._v(" About ")])]},proxy:!0}])}),i("router-view")],1)},o=[],s=i("d4ec"),r=i("bee2"),c=i("262e"),l=i("2caf"),d=i("9ab4"),u=(i("309b"),i("1b40")),h=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(s["a"])(this,i),e.apply(this,arguments)}return Object(r["a"])(i,[{key:"showNavbar",get:function(){return"Game"!=this.$store.state.storeRouteModule.currentRoute}},{key:"mounted",value:function(){console.log("App mounted")}}]),i}(u["c"]);h=Object(d["a"])([Object(u["a"])({components:{}})],h);var v=h,f=v,p=i("2877"),m=Object(p["a"])(f,a,o,!1,null,null,null),b=m.exports,g=(i("d3b7"),i("3ca3"),i("ddb0"),i("b0c0"),i("8c4f")),y=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"hero is-success is-fullheight-with-navbar"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"subtitle"},[t._v(" This is "),i("strong",[t._v("the home")]),t._v(" page. ")])])])}],j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("h1",[t._v(t._s(t.msg))]),t._m(0),i("h3",[t._v("Installed CLI Plugins")]),t._m(1),i("h3",[t._v("Essential Links")]),t._m(2),i("h3",[t._v("Ecosystem")]),t._m(3)])},O=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v(" For a guide and recipes on how to configure / customize this project,"),i("br"),t._v(" check out the "),i("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(". ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[i("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])]),i("li",[i("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[t._v("router")])]),i("li",[i("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),i("li",[i("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[t._v("eslint")])]),i("li",[i("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript",target:"_blank",rel:"noopener"}},[t._v("typescript")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[i("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),i("li",[i("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),i("li",[i("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),i("li",[i("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),i("li",[i("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[i("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),i("li",[i("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),i("li",[i("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),i("li",[i("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),i("li",[i("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],k=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(s["a"])(this,i),e.apply(this,arguments)}return i}(u["c"]);Object(d["a"])([Object(u["b"])()],k.prototype,"msg",void 0),k=Object(d["a"])([u["a"]],k);var S=k,_=S,E=(i("f35f"),Object(p["a"])(_,j,O,!1,null,"134d97bc",null)),x=E.exports,N=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(s["a"])(this,i),e.apply(this,arguments)}return i}(u["c"]);N=Object(d["a"])([Object(u["a"])({components:{HelloWorld:x}})],N);var C=N,M=C,T=(i("c219"),Object(p["a"])(M,y,w,!1,null,null,null)),L=T.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"hero is-fullheight"},[i("div",{ref:"game",staticClass:"hero-body p-0 is-fullheight game-self"}),i("div",{staticClass:"hero is-fullheight game-menu"},[i("h2",{staticClass:"subtitle has-text-white game-score"},[t._v("SCORE: "+t._s(t.$store.state.storeGameModule.score))]),i("h2",{staticClass:"subtitle has-text-white game-lives"},[t._v("LIVES: "+t._s(t.$store.state.storeGameModule.lives))]),i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container has-text-centered has-text-white"},[!t.$store.state.storeGameModule.started||t.$store.state.storeGameModule.paused?i("h1",{staticClass:"title has-text-white"},[t._v("ASTEROIDS")]):t._e(),t.$store.state.storeGameModule.started?t._e():i("h2",{staticClass:"subtitle has-text-white"},[t._v("Click to start")])])])])])},I=[],R=i("1da1"),P=(i("96cf"),i("398f")),G=function t(e){Object(s["a"])(this,t),this.animation=e},A=function t(e){Object(s["a"])(this,t),this.fsm=e},D=function(){function t(){Object(s["a"])(this,t),this.toPlay=[]}return Object(r["a"])(t,[{key:"play",value:function(t){this.toPlay.push(t)}}]),t}(),$=function t(e){Object(s["a"])(this,t),this.lifeTime=e},z=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Object(s["a"])(this,t),this.radius=e},X=function t(e){Object(s["a"])(this,t),this.countdown=e},Y=function t(e){Object(s["a"])(this,t),this.displayObject=e},U=function(){function t(){Object(s["a"])(this,t),this.lives=0,this.level=0,this.hits=0,this.playing=!1}return Object(r["a"])(t,[{key:"setForStart",value:function(){this.lives=3,this.level=0,this.hits=0,this.playing=!0}}]),t}(),H=function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(s["a"])(this,t),this.shooting=!1,this.timeSinceLastShot=0,this.offsetFromParentX=e,this.offsetFromParentY=i,this.minimumShotInterval=n,this.bulletLifetime=a},B=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Object(s["a"])(this,t),this.trigger=e},W=function t(e){Object(s["a"])(this,t),this.view=e},V=function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(s["a"])(this,t),this.velocityX=e,this.velocityY=i,this.angularVelocity=n,this.damping=a},J=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Object(s["a"])(this,t),this.left=e,this.right=i,this.accelerate=n,this.accelerationRate=a,this.rotationRate=o},q=function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(s["a"])(this,t),this.x=e,this.y=i,this.rotation=n},K=function t(e){Object(s["a"])(this,t),this.fsm=e},Q=function t(e){var i=this;Object(s["a"])(this,t),this.startGame=!1,this.waitForStart=e,e.click.add((function(){i.startGame=!0}))},Z=i("b85c"),tt=i("7aaa"),et=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(t){var n;Object(s["a"])(this,i),n=e.call(this);var a=2*Math.random()*Math.PI,o=Math.random()*t,r=10*Math.random()+10;return n.velocityX=Math.cos(a)*r,n.velocityY=Math.sin(a)*r,n.beginFill(16777215).drawCircle(0,0,1).endFill().setTransform(Math.cos(a)*o,Math.sin(a)*o),n}return i}(tt["c"]),it=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(t){var n;Object(s["a"])(this,i),n=e.call(this),n.dots=[];for(var a=i.numDots,o=0;o<a;o+=1){var r=new et(t);n.addChild(r),n.dots.push(r)}return n}return Object(r["a"])(i,[{key:"animate",value:function(t){var e,i=Object(Z["a"])(this.dots);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.setTransform(n.x+n.velocityX*t,n.y+n.velocityY*t)}}catch(a){i.e(a)}finally{i.f()}}}]),i}(tt["b"]);it.numDots=8;var nt,at=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(t){var n;Object(s["a"])(this,i),n=e.call(this),n.moveTo(t,0).beginFill(16777215);var a=0;while(a<2*Math.PI){var o=(.75+.25*Math.random())*t,r=Math.cos(a)*o,c=Math.sin(a)*o;n.lineTo(r,c),a+=.5*Math.random()}return n.lineTo(t,0).endFill(),n}return i}(tt["c"]),ot=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.call(this),t.beginFill(16777215).drawCircle(0,0,2.5).endFill(),t}return i}(tt["c"]),st=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;Object(s["a"])(this,i),t=e.call(this),t.setTransform(400,50);var n=new tt["e"]({fontFamily:"Arial",fontSize:20,fill:16777215});return t.score=new tt["d"]("SCORE: 0",n),t.score.setTransform(-200-t.score.width,0),t.lives=new tt["d"]("",n),t.lives.setTransform(200,0),t.setScore(0),t.setLives(3),t}return Object(r["a"])(i,[{key:"setScore",value:function(t){this.score.text="SCORE: ".concat(t)}},{key:"setLives",value:function(t){this.lives.text="LIVES: ".concat(t)}}]),i}(tt["b"]),rt=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.call(this),t.shape1=new tt["c"],t.shape1.moveTo(10,0).beginFill(16777215).lineTo(-7,7).lineTo(-4,0).lineTo(10,0).endFill(),t.addChild(t.shape1),t.shape2=new tt["c"],t.shape2.moveTo(10,0).beginFill(16777215).lineTo(-7,-7).lineTo(-4,0).lineTo(10,0).endFill(),t.addChild(t.shape2),t.vel1x=10*Math.random()-5,t.vel1y=10*Math.random()+10,t.vel2x=10*Math.random()-5,t.vel2y=-10*Math.random()-10,t.rot1=3*Math.random()-1.5,t.rot2=3*Math.random()-1.5,t}return Object(r["a"])(i,[{key:"animate",value:function(t){var e=this.shape1,i=this.shape2;e.setTransform(e.x+this.vel1x*t,e.y+this.vel1y*t,1,1,e.rotation+this.rot1*t),i.setTransform(i.x+this.vel2x*t,i.y+this.vel2y*t,1,1,i.rotation+this.rot2*t)}}]),i}(tt["b"]),ct=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.call(this),t.moveTo(10,0).beginFill(16777215).lineTo(-7,7).lineTo(-4,0).lineTo(-7,-7).lineTo(10,0).endFill(),t}return i}(tt["c"]),lt=i("5530"),dt=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;Object(s["a"])(this,i),t=e.call(this),t.click=new P["Signal0"],t.dispatchClick=function(){t.click.dispatch()},t.addClickListener=function(){window.addEventListener("click",t.dispatchClick)},t.removeClickListener=function(){window.removeEventListener("click",t.dispatchClick),t.gameOver.text="GAME OVER"};var n={fontFamily:"Arial",fill:16777215};return t.gameOver=new tt["d"]("ASTEROIDS",new tt["e"](Object(lt["a"])(Object(lt["a"])({},n),{},{fontSize:50}))),t.gameOver.setTransform(-t.gameOver.width/2,-50),t.clickToStart=new tt["d"]("Click to start",new tt["e"](Object(lt["a"])(Object(lt["a"])({},n),{},{fontSize:20}))),t.clickToStart.setTransform(-t.clickToStart.width/2,50),t.on("addedToStage",t.addClickListener),t.on("removedFromStage",t.removeClickListener),t}return i}(tt["b"]),ut=32,ht=37,vt=39,ft=38,pt=function(){function t(e,i){Object(s["a"])(this,t),this.engine=e,this.config=i}return Object(r["a"])(t,[{key:"destroyEntity",value:function(t){this.engine.removeEntity(t)}},{key:"createGame",value:function(){var t=new st,e=new P["Entity"]("game").add(new U).add(new W(t)).add(new Y(t)).add(new q(this.config.width/2,25,0));return this.engine.addEntity(e),e}},{key:"createWaitForClick",value:function(){if(!this.waitEntity){var t=new dt;this.waitEntity=new P["Entity"]("wait").add(new Q(t)).add(new Y(t)).add(new q(this.config.width/2,this.config.height/2,0))}return this.waitEntity.get(Q).startGame=!1,this.engine.addEntity(this.waitEntity),this.waitEntity}},{key:"createAsteroid",value:function(t,e,i){var n=new P["Entity"],a=new P["EntityStateMachine"](n),o=4*(Math.random()-.5)*(50-t),s=4*(Math.random()-.5)*(50-t),r=2*Math.random()-1;a.createState("alive").add(V).withInstance(new V(o,s,r)).add(z).withInstance(new z(t)).add(Y).withInstance(new Y(new at(t)));var c=new it(t);return a.createState("destroyed").add(X).withInstance(new X(3)).add(Y).withInstance(new Y(c)).add(G).withInstance(new G(c)),n.add(new A(a)).add(new q(e,i,0)).add(new D),a.changeState("alive"),this.engine.addEntity(n),n}},{key:"createSpaceship",value:function(){var t=new P["Entity"],e=new P["EntityStateMachine"](t);e.createState("playing").add(V).withInstance(new V(0,0,0,15)).add(J).withInstance(new J(ht,vt,ft,100,3)).add(H).withInstance(new H(8,0,.3,2)).add(B).withInstance(new B(ut)).add(z).withInstance(new z(9)).add(Y).withInstance(new Y(new ct));var i=new rt;return e.createState("destroyed").add(X).withInstance(new X(5)).add(Y).withInstance(new Y(i)).add(G).withInstance(new G(i)),t.add(new K(e)).add(new q(this.config.width/2,this.config.height/2,0)).add(new D),e.changeState("playing"),this.engine.addEntity(t),t}},{key:"createUserBullet",value:function(t,e){var i=Math.cos(e.rotation),n=Math.sin(e.rotation),a=(new P["Entity"]).add(new $(t.bulletLifetime)).add(new q(i*t.offsetFromParentX-n*t.offsetFromParentY+e.x,n*t.offsetFromParentX+i*t.offsetFromParentY+e.y,0)).add(new z(0)).add(new V(150*i,150*n,0,0)).add(new Y(new ot));return this.engine.addEntity(a),a}}]),t}(),mt=function t(e,i){Object(s["a"])(this,t),this.width=e,this.height=i},bt=(i("143c"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),32),gt=function(){function t(){var e=this;Object(s["a"])(this,t),this.keys=new Int32Array(4),this.keyDownHandler=function(t){var i=t.keyCode,n=Math.floor(i/bt);e.keys[n]|=1<<i-n*bt},this.keyUpHandler=function(t){var i=t.keyCode,n=Math.floor(i/bt);e.keys[n]&=~(1<<i-n*bt)},window.addEventListener("keyup",this.keyUpHandler),window.addEventListener("keydown",this.keyDownHandler)}return Object(r["a"])(t,[{key:"isDown",value:function(t){var e=Math.floor(t/bt);return 0!==(this.keys[e]&1<<t-e*bt)}},{key:"isUp",value:function(t){return!this.isDown(t)}}]),t}(),yt=Object(P["defineNode"])({animation:G},"AnimationNode"),wt=Object(P["defineNode"])({asteroid:A,position:q,collision:z,audio:D},"AsteroidCollisionNode"),jt=Object(P["defineNode"])({audio:D},"AudioNode"),Ot=Object(P["defineNode"])({bullet:$},"BulletAgeNode"),kt=Object(P["defineNode"])({bullet:$,position:q,collision:z},"BulletCollisionNode"),St=Object(P["defineNode"])({death:X},"DeathThroesNode"),_t=Object(P["defineNode"])({state:U},"GameNode"),Et=Object(P["defineNode"])({control:B,gun:H,position:q,audio:D},"GunControlNode"),xt=Object(P["defineNode"])({state:U,hud:W},"HudNode"),Nt=Object(P["defineNode"])({control:J,position:q,motion:V},"MotionControlNode"),Ct=Object(P["defineNode"])({position:q,motion:V},"MovementNode"),Mt=Object(P["defineNode"])({position:q,display:Y},"RenderNode"),Tt=Object(P["defineNode"])({spaceship:K,position:q,collision:z,audio:D},"SpaceshipCollisionNode"),Lt=Object(P["defineNode"])({spaceship:K,position:q},"SpaceshipNode"),Ft=Object(P["defineNode"])({wait:Q},"WaitForStartNode"),It=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(s["a"])(this,i),e.call(this,yt)}return Object(r["a"])(i,[{key:"updateNode",value:function(t,e){t.animation.animation.animate(e)}}]),i}(P["ListIteratingSystem"]),Rt=(P["ListIteratingSystem"],function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(t){var n;return Object(s["a"])(this,i),n=e.call(this,Ot),n.creator=t,n}return Object(r["a"])(i,[{key:"updateNode",value:function(t,e){var i=t.bullet;i.lifeTime-=e,i.lifeTime<=0&&this.creator.destroyEntity(t.entity)}}]),i}(P["ListIteratingSystem"])),Pt=(i("4057"),i("4ec9"),i("d81d"),i("4533")),Gt=i.n(Pt),At=i("58ce"),Dt=i.n(At),$t=i("b750"),zt=i.n($t),Xt=i("7e73"),Yt=i.n(Xt),Ut=i("ced2"),Ht=i.n(Ut),Bt=i("5cd1"),Wt=i.n(Bt);(function(t){t[t["asteroid"]=0]="asteroid",t[t["ship"]=1]="ship",t[t["shoot"]=2]="shoot"})(nt||(nt={}));nt.asteroid,Gt.a,Dt.a,nt.shoot,zt.a,Yt.a,nt.ship,Ht.a,Wt.a;var Vt=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(t){var n;return Object(s["a"])(this,i),n=e.call(this),n.games=null,n.spaceships=null,n.asteroids=null,n.bullets=null,n.creator=t,n}return Object(r["a"])(i,[{key:"addToEngine",value:function(t){this.games=t.getNodeList(_t),this.spaceships=t.getNodeList(Tt),this.asteroids=t.getNodeList(wt),this.bullets=t.getNodeList(kt)}},{key:"update",value:function(t){for(var e=this.bullets.head;e;e=e.next)for(var i=this.asteroids.head;i;i=i.next){var n=Math.hypot(i.position.x-e.position.x,i.position.y-e.position.y);if(n<=i.collision.radius){if(this.creator.destroyEntity(e.entity),i.collision.radius>10){var a=i.collision.radius-10,o=i.position.x+10*Math.random()-5,s=i.position.y+10*Math.random()-5;this.creator.createAsteroid(a,o,s),o=i.position.x+10*Math.random()-5,s=i.position.y+10*Math.random()-5,this.creator.createAsteroid(a,o,s)}i.asteroid.fsm.changeState("destroyed"),i.audio.play(nt.asteroid),this.games.head&&(this.games.head.state.hits+=1);break}}for(var r=this.spaceships.head;r;r=r.next)for(var c=this.asteroids.head;c;c=c.next){var l=Math.hypot(c.position.x-r.position.x,c.position.y-r.position.y);if(l<=c.collision.radius+r.collision.radius){r.spaceship.fsm.changeState("destroyed"),r.audio.play(nt.ship),this.games.head&&(this.games.head.state.lives-=1);break}}}},{key:"removeFromEngine",value:function(t){this.games=null,this.spaceships=null,this.asteroids=null,this.bullets=null}}]),i}(P["System"]),Jt=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(t){var n;return Object(s["a"])(this,i),n=e.call(this,St),n.creator=t,n}return Object(r["a"])(i,[{key:"updateNode",value:function(t,e){t.death.countdown-=e,t.death.countdown<=0&&this.creator.destroyEntity(t.entity)}}]),i}(P["ListIteratingSystem"]),qt=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(t,n){var a;return Object(s["a"])(this,i),a=e.call(this),a.games=null,a.spaceships=null,a.asteroids=null,a.bullets=null,a.creator=t,a.config=n,a}return Object(r["a"])(i,[{key:"addToEngine",value:function(t){this.games=t.getNodeList(_t),this.spaceships=t.getNodeList(Lt),this.asteroids=t.getNodeList(wt),this.bullets=t.getNodeList(kt)}},{key:"update",value:function(t){var e=this.games.head;if(e&&e.state.playing){if(this.spaceships.empty)if(e.state.lives>0){for(var i=this.config.width/2,n=this.config.height/2,a=!0,o=this.asteroids.head;o;o=o.next){var s=Math.hypot(o.position.x-i,o.position.y-n);if(s<=o.collision.radius+50){a=!1;break}}a&&this.creator.createSpaceship()}else e.state.playing=!1,this.creator.createWaitForClick();if(this.asteroids.empty&&this.bullets.empty&&this.spaceships.head){var r=this.spaceships.head;e.state.level+=1;for(var c=2,l=c+e.state.level,d=0;d<l;d+=1){var u=void 0,h=void 0;do{u=Math.random()*this.config.width,h=Math.random()*this.config.height}while(Math.hypot(u-r.position.x,h-r.position.y)<=80);this.creator.createAsteroid(30,u,h)}}}}},{key:"removeFromEngine",value:function(t){this.games=null,this.spaceships=null,this.asteroids=null,this.bullets=null}}]),i}(P["System"]),Kt=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(t,n){var a;return Object(s["a"])(this,i),a=e.call(this,Et),a.keyPoll=t,a.creator=n,a}return Object(r["a"])(i,[{key:"updateNode",value:function(t,e){var i=t.control,n=t.position,a=t.gun;a.shooting=this.keyPoll.isDown(i.trigger),a.timeSinceLastShot+=e,a.shooting&&a.timeSinceLastShot>=a.minimumShotInterval&&(this.creator.createUserBullet(a,n),t.audio.play(nt.shoot),a.timeSinceLastShot=0)}}]),i}(P["ListIteratingSystem"]),Qt=i("91dc"),Zt=i("2f62");n["a"].use(Zt["b"]);var te,ee=new Zt["a"]({}),ie=Object(Qt["createModule"])(ee,"storeGameModule",{namespaced:!0,state:{started:!1,finished:!1,paused:!1,score:0,lives:0},mutations:{reset:function(t){t.started=!1,t.finished=!1,t.paused=!1,t.score=0,t.lives=0},setStarted:function(t){t.started=!0},setFinished:function(t){t.finished=!0},setPause:function(t,e){t.paused=e},setScore:function(t,e){t.score=e},setLives:function(t,e){t.lives=e}},getters:{started:function(t){var e=t.started;return e},finished:function(t){var e=t.finished;return e},paused:function(t){var e=t.paused;return e},score:function(t){var e=t.score;return e},lives:function(t){var e=t.lives;return e}}}),ne=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(s["a"])(this,i),e.call(this,xt)}return Object(r["a"])(i,[{key:"updateNode",value:function(t,e){t.hud.view.setLives(t.state.lives),t.hud.view.setScore(t.state.hits),ie.mutations.setScore(t.state.hits),ie.mutations.setLives(t.state.lives)}}]),i}(P["ListIteratingSystem"]),ae=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(t){var n;return Object(s["a"])(this,i),n=e.call(this,Nt),n.keyPoll=t,n}return Object(r["a"])(i,[{key:"updateNode",value:function(t,e){var i=t.control,n=t.position,a=t.motion;this.keyPoll.isDown(i.left)&&(n.rotation-=i.rotationRate*e),this.keyPoll.isDown(i.right)&&(n.rotation+=i.rotationRate*e),this.keyPoll.isDown(i.accelerate)&&(a.velocityX+=Math.cos(n.rotation)*i.accelerationRate*e,a.velocityY+=Math.sin(n.rotation)*i.accelerationRate*e)}}]),i}(P["ListIteratingSystem"]),oe=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(t){var n;return Object(s["a"])(this,i),n=e.call(this,Ct),n.config=t,n}return Object(r["a"])(i,[{key:"updateNode",value:function(t,e){var i=t.position,n=t.motion,a=this.config,o=a.width,s=a.height;if(i.x+=n.velocityX*e,i.y+=n.velocityY*e,i.x<0&&(i.x+=o),i.x>o&&(i.x-=o),i.y<0&&(i.y+=s),i.y>s&&(i.y-=s),i.rotation+=n.angularVelocity*e,n.damping>0){var r=Math.abs(Math.cos(i.rotation)*n.damping*e),c=Math.abs(Math.sin(i.rotation)*n.damping*e);n.velocityX>r?n.velocityX-=r:n.velocityX<-r?n.velocityX+=r:n.velocityX=0,n.velocityY>c?n.velocityY-=c:n.velocityY<-c?n.velocityY+=c:n.velocityY=0}}}]),i}(P["ListIteratingSystem"]),se=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{emitStageEvents:!0},o=arguments.length>2?arguments[2]:void 0;Object(s["a"])(this,i),n=e.call(this),n.resized=!1,n.nodes=null,n.addToDisplay=function(t){var e=t.display.displayObject;n.stage.addChild(e),n.options.emitStageEvents&&e.emit("addedToStage")},n.handleWindowResize=function(t){n.resized=!0},n.removeFromDisplay=function(t){var e=t.display.displayObject;n.stage.removeChild(e),n.options.emitStageEvents&&e.emit("removedFromStage")},n.container=t,n.options=a,n.gameConfig=o;var r=t.getBoundingClientRect(),c=new tt["a"]({width:r.width,height:r.height,backgroundColor:0});return n.renderer=c.renderer,n.stage=c.stage,n.view=c.view,n}return Object(r["a"])(i,[{key:"addToEngine",value:function(t){window.addEventListener("resize",this.handleWindowResize),this.container.appendChild(this.view),this.nodes=t.getNodeList(Mt);for(var e=this.nodes.head;e;e=e.next)this.addToDisplay(e);this.nodes.nodeAdded.add(this.addToDisplay),this.nodes.nodeRemoved.add(this.removeFromDisplay)}},{key:"update",value:function(t){if(this.resized){this.resized=!1;var e=this.container.getBoundingClientRect();this.gameConfig.width=e.width,this.gameConfig.height=e.height,this.renderer.view.style.width=e.width+"px",this.renderer.view.style.height=e.height+"px",this.renderer.resize(e.width,e.height),console.log("resize",e)}for(var i=this.nodes.head;i;i=i.next){var n=i,a=n.display,o=n.position;a.displayObject.setTransform(o.x,o.y,1,1,o.rotation)}this.renderer.render(this.stage)}},{key:"removeFromEngine",value:function(t){this.container.removeChild(this.view),this.nodes=null}}]),i}(P["System"]);(function(t){t[t["preUpdate"]=1]="preUpdate",t[t["update"]=2]="update",t[t["move"]=3]="move",t[t["resolveCollisions"]=4]="resolveCollisions",t[t["animate"]=5]="animate",t[t["render"]=6]="render",t[t["audio"]=7]="audio"})(te||(te={}));var re=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(t){var n;return Object(s["a"])(this,i),n=e.call(this),n.gameNodes=null,n.waitNodes=null,n.asteroids=null,n.creator=t,n}return Object(r["a"])(i,[{key:"addToEngine",value:function(t){this.waitNodes=t.getNodeList(Ft),this.gameNodes=t.getNodeList(_t),this.asteroids=t.getNodeList(wt)}},{key:"update",value:function(t){if(this.waitNodes&&this.gameNodes&&this.asteroids){var e=this.waitNodes.head,i=this.gameNodes.head;if(e&&e.wait.startGame&&i){for(var n=this.asteroids.head;n;n=n.next)n.entity&&this.creator.destroyEntity(n.entity);i.state.setForStart(),e.wait.startGame=!1,e.entity&&this.creator.destroyEntity(e.entity),ie.mutations.setStarted()}}}},{key:"removeFromEngine",value:function(t){this.gameNodes=null,this.waitNodes=null,this.asteroids=null}}]),i}(P["System"]);function ce(t){return le.apply(this,arguments)}function le(){return le=Object(R["a"])(regeneratorRuntime.mark((function t(e){var i,n,a,o,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=e.getBoundingClientRect(),n=new mt(i.width,i.height),a=new P["Engine"],o=new pt(a,n),s=new gt,r=new P["FrameTickProvider"],r.add((function(t){return a.update(t)})),r.start(),a.addSystem(new re(o),te.preUpdate),a.addSystem(new qt(o,n),te.preUpdate),a.addSystem(new ae(s),te.update),a.addSystem(new Kt(s,o),te.update),a.addSystem(new Rt(o),te.update),a.addSystem(new Jt(o),te.update),a.addSystem(new oe(n),te.move),a.addSystem(new Vt(o),te.resolveCollisions),a.addSystem(new It,te.animate),a.addSystem(new ne,te.animate),a.addSystem(new se(e,{emitStageEvents:!0},n),te.render),o.createWaitForClick(),o.createGame();case 21:case"end":return t.stop()}}),t)}))),le.apply(this,arguments)}var de=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(s["a"])(this,i),e.apply(this,arguments)}return Object(r["a"])(i,[{key:"mounted",value:function(){var t=this;ie.mutations.reset(),setTimeout((function(){ce(t.$refs.game)}),100)}},{key:"destroyed",value:function(){console.log("Game","destroyed")}}]),i}(u["c"]);de=Object(d["a"])([Object(u["a"])({components:{}})],de);var ue=de,he=ue,ve=(i("d584"),Object(p["a"])(he,F,I,!1,null,"780f25e4",null)),fe=ve.exports,pe=Object(Qt["createModule"])(ee,"storeRouteModule",{namespaced:!0,state:{currentRoute:""},mutations:{setCurrentRoute:function(t,e){t.currentRoute=e}},getters:{currentRoute:function(t){var e=t.currentRoute;return e}}});n["a"].use(g["a"]);var me=[{path:"/",name:"Home",component:L},{path:"/game",name:"Game",component:fe},{path:"/about",name:"About",component:function(){return i.e("about").then(i.bind(null,"f820"))}}],be=new g["a"]({mode:"history",base:"/",routes:me});be.beforeEach((function(t,e,i){pe.mutations.setCurrentRoute(t.name||""),i()}));var ge=be,ye=i("289d");i("5abe");n["a"].use(ye["a"]),n["a"].config.productionTip=!1,new n["a"]({router:ge,store:ee,render:function(t){return t(b)}}).$mount("#app")},ced2:function(t,e,i){t.exports=i.p+"media/ship.fc37c3a9.mp3"},d584:function(t,e,i){"use strict";i("1ad8")},f35f:function(t,e,i){"use strict";i("7e5e")}});
//# sourceMappingURL=app.039849bd.js.map